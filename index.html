<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1 bit</title>
    <style>
      /* CRITICAL: Border-box ensures 964px is the FINAL outer width of the element */
      *, *::before, *::after {
        box-sizing: border-box;
      }

      :root {
        --w: #fff;
        --b: #000;
        --canvas-w: 964px;
        --canvas-h: 868px;
      }

      html, body {
        height: 100%;
        margin: 0;
        background: var(--b);
        color: var(--w);
      }

      body {
        display: grid;
        place-items: center;
        overflow: hidden;
        background-image: radial-gradient(circle at 1px 1px, var(--w) 1px, transparent 1.1px);
        background-size: 24px 24px;
        background-color: var(--b);
      }

      .frame {
        /* This container wraps the canvas tightly */
        padding: 14px;
        border: 2px solid var(--w);
        background: var(--b);
        border-radius: 18px;
        line-height: 0; /* Prevents 1-4px "ghost" gaps at the bottom/side */
        display: inline-block;
      }

      canvas {
        /* Set the CSS width to match the internal resolution EXACTLY */
        width: var(--canvas-w);
        height: var(--canvas-h);
        
        display: block; /* Prevents canvas from being treated like text (inline) */
        image-rendering: pixelated;
        image-rendering: crisp-edges;
        background: var(--b);
        border: 2px solid var(--w);
        
        /* Safety for small screens */
        max-width: calc(100vw - 64px); 
        height: auto;
        aspect-ratio: 964 / 868;
      }

      @media (max-width: 520px) {
        .frame { padding: 10px; border-radius: 14px; }
      }
    </style>
  </head>
  <body>

    <div class="frame">
      <canvas id="game" width="964" height="868"></canvas>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>